<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juggernaut | South Indian Flavours</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arima:wght@400;700&family=Hind+Madurai:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* Define the custom font families */
        body {
            font-family: 'Hind Madurai', sans-serif;
            background-color: #FFF8E1; /* A warm, parchment-like off-white */
            color: #4A2E2A; /* Deep brown, like coffee decoction */
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Arima', cursive;
        }

        /* Define the color palette using CSS variables */
        :root {
            --brand-yellow: #FFC107; /* Turmeric Yellow */
            --brand-red: #D32F2F;    /* Chilli Red */
            --brand-green: #388E3C;  /* Curry Leaf Green */
            --brand-brown: #5D4037;  /* Tamarind Brown */
            --brand-light: #FFF8E1;  /* Coconut Milk White */
        }
        
        /* Custom styles for UI elements */
        .btn-primary {
            background-color: var(--brand-red);
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn-primary:hover {
            background-color: #B71C1C;
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0,0,0,0.15);
        }
        
        .nav-link {
            position: relative;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--brand-red);
            transition: width 0.3s ease-in-out;
        }
        .nav-link:hover::after {
            width: 100%;
        }

        /* Background pattern inspired by Kolam art */
        .kolam-bg {
            background-image:
                radial-gradient(circle at center, rgba(0,0,0,0.04) 1px, transparent 1px),
                radial-gradient(circle at center, rgba(0,0,0,0.04) 1px, transparent 1px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
        }

        /* Animation classes for scroll-triggered events */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .book-cover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .book-cover:hover {
            transform: scale(1.05) rotate(1deg);
            box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.2);
        }

        /* Floating spices animation */
        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
            100% { transform: translateY(0px) rotate(360deg); }
        }
        
        .spice {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.2;
            animation: float 15s ease-in-out infinite;
        }

        /* Chatbot Styles */
        .chatbot-launcher {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-color: var(--brand-red);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        .chatbot-launcher:hover {
            transform: scale(1.1);
        }

        .chatbot-window {
            position: fixed;
            bottom: 7rem;
            right: 2rem;
            width: 370px;
            max-width: 90vw;
            height: 500px;
            max-height: 80vh;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transform: scale(0.5);
            opacity: 0;
            transform-origin: bottom right;
            transition: transform 0.3s ease, opacity 0.3s ease;
            z-index: 999;
        }

        .chatbot-window.open {
            transform: scale(1);
            opacity: 1;
        }

        .chat-header {
            background-color: var(--brand-brown);
            color: var(--brand-light);
            padding: 1rem;
            font-family: 'Arima', cursive;
            font-size: 1.5rem;
            text-align: center;
        }

        .chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .message {
            padding: 0.5rem 1rem;
            border-radius: 18px;
            max-width: 80%;
            line-height: 1.4;
        }

        .message.bot {
            background-color: #f1f0f0;
            color: #333;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }

        .message.user {
            background-color: var(--brand-red);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }
        
        .message.typing {
            color: #999;
            font-style: italic;
        }

        .chat-input-form {
            display: flex;
            border-top: 1px solid #e0e0e0;
            padding: 0.5rem;
        }
        
        .chat-input {
            flex-grow: 1;
            border: none;
            padding: 0.75rem;
            font-size: 1rem;
            outline: none;
        }

        .send-btn {
            background: none;
            border: none;
            color: var(--brand-red);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0 0.5rem;
        }
        
        .star-rating {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-top: 10px;
        }

        .star {
            font-size: 2rem;
            cursor: pointer;
            color: #ccc;
            transition: color 0.2s;
        }

        .star:hover, .star.selected {
            color: var(--brand-yellow);
        }

    </style>
</head>
<body class="kolam-bg">

    <!-- ... existing body content ... -->
    <!-- Floating Spice Emojis for decoration -->
    <div class="spice" style="top: 15%; left: 5%; animation-duration: 12s;">üå∂Ô∏è</div>
    <div class="spice" style="top: 25%; right: 10%; animation-duration: 18s;">üåø</div>
    <div class="spice" style="top: 60%; left: 12%; animation-duration: 20s;">üçÇ</div>
    <div class="spice" style="top: 80%; right: 5%; animation-duration: 14s;">üå∂Ô∏è</div>
    <div class="spice" style="top: 90%; left: 20%; animation-duration: 16s;">üåø</div>

    <!-- Header and Navigation -->
    <header class="fixed top-0 left-0 right-0 z-50 transition-all duration-300" id="navbar">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <h1 class="text-4xl font-bold text-brand-brown">Juggernaut</h1>
                <nav class="hidden md:flex items-center space-x-8">
                    <a href="#featured" class="nav-link text-lg font-semibold">New Releases</a>
                    <a href="#spotlight" class="nav-link text-lg font-semibold">Author Spotlight</a>
                    <a href="#spice-box" class="nav-link text-lg font-semibold">The Spice Box</a>
                    <a href="#" class="btn-primary rounded-full px-6 py-2">Subscribe</a>
                </nav>
                <div class="md:hidden">
                    <button class="text-3xl text-brand-brown">‚ò∞</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="min-h-screen flex items-center pt-24 pb-12">
            <div class="container mx-auto px-6 text-center">
                <div class="max-w-3xl mx-auto">
                    <h2 class="text-6xl md:text-8xl font-bold leading-tight animate-on-scroll">Stories Steeped in Flavour.</h2>
                    <p class="mt-6 text-xl md:text-2xl text-gray-700 animate-on-scroll" style="transition-delay: 200ms;">
                        Discover a vibrant collection of tales from the heart of South India. Rich, authentic, and unforgettable.
                    </p>
                    <div class="mt-10 animate-on-scroll" style="transition-delay: 400ms;">
                        <a href="#featured" class="btn-primary rounded-full px-10 py-4 text-xl font-bold">Explore Our Library</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Books Section -->
        <section id="featured" class="py-20 bg-white shadow-inner">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-5xl font-bold animate-on-scroll">Fresh Off the Press</h2>
                    <p class="text-xl mt-2 text-gray-600 animate-on-scroll" style="transition-delay: 150ms;">This month's most talked-about releases.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12">
                    <!-- Book 1 -->
                    <div class="text-center animate-on-scroll">
                        <img src="https://placehold.co/400x600/D32F2F/FFFFFF?text=The+Monsoon\nMurders" alt="Book Cover: The Monsoon Murders" class="book-cover rounded-lg shadow-xl mx-auto mb-4 w-full">
                        <h3 class="text-2xl font-bold">The Monsoon Murders</h3>
                        <p class="text-gray-600">by Priya Krishnan</p>
                    </div>
                    <!-- Book 2 -->
                    <div class="text-center animate-on-scroll" style="transition-delay: 150ms;">
                        <img src="https://placehold.co/400x600/388E3C/FFFFFF?text=Filter+Coffee\n&+Philosophy" alt="Book Cover: Filter Coffee & Philosophy" class="book-cover rounded-lg shadow-xl mx-auto mb-4 w-full">
                        <h3 class="text-2xl font-bold">Filter Coffee & Philosophy</h3>
                        <p class="text-gray-600">by Arjun Menon</p>
                    </div>
                    <!-- Book 3 -->
                    <div class="text-center animate-on-scroll" style="transition-delay: 300ms;">
                        <img src="https://placehold.co/400x600/5D4037/FFFFFF?text=Gopuram+of\nSecrets" alt="Book Cover: Gopuram of Secrets" class="book-cover rounded-lg shadow-xl mx-auto mb-4 w-full">
                        <h3 class="text-2xl font-bold">Gopuram of Secrets</h3>
                        <p class="text-gray-600">by Lakshmi Iyer</p>
                    </div>
                    <!-- Book 4 -->
                    <div class="text-center animate-on-scroll" style="transition-delay: 450ms;">
                        <img src="https://placehold.co/400x600/FFC107/4A2E2A?text=Idli,+Dosa\n&+Destiny" alt="Book Cover: Idli, Dosa & Destiny" class="book-cover rounded-lg shadow-xl mx-auto mb-4 w-full">
                        <h3 class="text-2xl font-bold">Idli, Dosa & Destiny</h3>
                        <p class="text-gray-600">by Karthik Rao</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Author Spotlight Section -->
        <section id="spotlight" class="py-20">
            <div class="container mx-auto px-6">
                 <div class="flex flex-col md:flex-row items-center gap-12">
                     <div class="md:w-1/3 animate-on-scroll">
                         <img src="https://placehold.co/500x500/5D4037/FFFFFF?text=Author" alt="Portrait of Author Priya Krishnan" class="rounded-full shadow-2xl mx-auto">
                     </div>
                     <div class="md:w-2/3 text-center md:text-left">
                         <h4 class="text-2xl text-brand-red font-bold animate-on-scroll">Author Spotlight</h4>
                         <h2 class="text-5xl font-bold mt-2 animate-on-scroll" style="transition-delay: 150ms;">Priya Krishnan</h2>
                         <p class="mt-6 text-xl text-gray-700 leading-relaxed animate-on-scroll" style="transition-delay: 300ms;">
                            "I don't just write stories; I try to bottle the scent of wet earth after the first monsoon rain, the taste of my grandmother's rasam, the sound of temple bells at dawn. My characters live and breathe the air of the Western Ghats, their conflicts as old as the mountains themselves. For me, every plot is a journey back home."
                         </p>
                         <div class="mt-8 animate-on-scroll" style="transition-delay: 450ms;">
                            <a href="#" class="btn-primary rounded-full px-8 py-3 text-lg font-semibold">Read Her Story</a>
                         </div>
                     </div>
                 </div>
            </div>
        </section>

        <!-- The Spice Box - Blog Section -->
        <section id="spice-box" class="py-20 bg-white shadow-inner">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-5xl font-bold animate-on-scroll">From The Spice Box</h2>
                    <p class="text-xl mt-2 text-gray-600 animate-on-scroll" style="transition-delay: 150ms;">Short reads, essays, and cultural musings.</p>
                </div>
                <div class="max-w-4xl mx-auto space-y-12">
                    <!-- Article 1 -->
                    <div class="animate-on-scroll">
                        <h3 class="text-3xl font-bold">The Art of the 'Tiffin'</h3>
                        <p class="mt-2 text-lg text-gray-700">Exploring the culinary and cultural significance of South India's light meals.</p>
                        <a href="#" class="nav-link text-brand-red font-semibold mt-3 inline-block">Read More &rarr;</a>
                    </div>
                     <!-- Article 2 -->
                    <div class="animate-on-scroll" style="transition-delay: 200ms;">
                        <h3 class="text-3xl font-bold">Beyond the Screen: The Kollywood Literary Connection</h3>
                        <p class="mt-2 text-lg text-gray-700">How Tamil cinema has been shaped by and has shaped the region's literature.</p>
                        <a href="#" class="nav-link text-brand-red font-semibold mt-3 inline-block">Read More &rarr;</a>
                    </div>
                     <!-- Article 3 -->
                    <div class="animate-on-scroll" style="transition-delay: 400ms;">
                        <h3 class="text-3xl font-bold">Decoding the Carnatic Raga</h3>
                        <p class="mt-2 text-lg text-gray-700">An introduction to the melodic frameworks that form the soul of South Indian classical music.</p>
                        <a href="#" class="nav-link text-brand-red font-semibold mt-3 inline-block">Read More &rarr;</a>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Chatbot Feature -->
    <div id="chatbot-launcher" class="chatbot-launcher">
        <span>üí¨</span>
    </div>

    <div id="chatbot-window" class="chatbot-window">
        <div class="chat-header">Leave a Review</div>
        <div id="chat-messages" class="chat-messages"></div>
        <form id="chat-input-form" class="chat-input-form">
            <input type="text" id="chat-input" class="chat-input" placeholder="Type your message..." autocomplete="off">
            <button type="submit" class="send-btn">‚û§</button>
        </form>
    </div>


    <!-- Footer -->
    <footer class="bg-brand-brown text-brand-light py-12">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl font-bold">Juggernaut</h2>
            <div class="flex justify-center space-x-6 my-6">
                <a href="#" class="hover:text-brand-yellow transition-colors">About Us</a>
                <a href="#" class="hover:text-brand-yellow transition-colors">Careers</a>
                <a href="#" class="hover:text-brand-yellow transition-colors">Contact</a>
                <a href="#" class="hover:text-brand-yellow transition-colors">Privacy Policy</a>
            </div>
            <p>&copy; 2024 Juggernaut Publishing. All Rights Reserved.</p>
        </div>
    </footer>


    <script>
        // JavaScript for animations and interactions

        document.addEventListener('DOMContentLoaded', function() {
            
            // 1. Navbar background change on scroll
            const navbar = document.getElementById('navbar');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    navbar.classList.add('bg-white', 'shadow-md');
                } else {
                    navbar.classList.remove('bg-white', 'shadow-md');
                }
            });

            // 2. Animate elements on scroll
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1
            });

            const elementsToAnimate = document.querySelectorAll('.animate-on-scroll');
            elementsToAnimate.forEach(el => {
                observer.observe(el);
            });
            
            // 3. Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    if (href && href.length > 1) {
                        e.preventDefault();
                        const targetElement = document.querySelector(href);
                        if (targetElement) {
                           targetElement.scrollIntoView({
                                behavior: 'smooth'
                            });
                        }
                    }
                });
            });

            // 4. Chatbot Logic
            const chatbotLauncher = document.getElementById('chatbot-launcher');
            const chatbotWindow = document.getElementById('chatbot-window');
            const chatMessages = document.getElementById('chat-messages');
            const chatInputForm = document.getElementById('chat-input-form');
            const chatInput = document.getElementById('chat-input');
            
            let chatState = 'initial';
            let reviewData = {};
            let isChatOpen = false;

            chatbotLauncher.addEventListener('click', () => {
                isChatOpen = !isChatOpen;
                chatbotWindow.classList.toggle('open');
                if (isChatOpen && chatState === 'initial') {
                    startChat();
                }
            });

            const startChat = () => {
                addBotMessage("Hi there! I can help you leave a review for one of our books.");
                setTimeout(() => addBotMessage("What's your name?"), 1000);
                chatState = 'awaiting_name';
            };

            chatInputForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const userInput = chatInput.value.trim();
                if (userInput) {
                    addUserMessage(userInput);
                    handleUserInput(userInput);
                    chatInput.value = '';
                }
            });

            function handleUserInput(input) {
                switch (chatState) {
                    case 'awaiting_name':
                        reviewData.name = input;
                        botResponse("Thanks, " + reviewData.name + "! Which book would you like to review?");
                        chatState = 'awaiting_book';
                        break;
                    case 'awaiting_book':
                        reviewData.book = input;
                        botResponse("Great! How would you rate '" + reviewData.book + "'? Please give a rating from 1 to 5 stars.");
                        addStarRating();
                        chatState = 'awaiting_rating';
                        break;
                    case 'awaiting_rating':
                        // This case is handled by the star click event
                        break;
                    case 'awaiting_review':
                        reviewData.review = input;
                        botResponse("Thank you for your feedback! Your review has been submitted.");
                        setTimeout(() => botResponse("Is there anything else I can help with today?"), 1200);
                        chatState = 'finished';
                        break;
                    default:
                        botResponse("I'm sorry, I'm just here to collect reviews. Thanks for chatting!");
                }
            }
            
            function addStarRating() {
                const ratingContainer = document.createElement('div');
                ratingContainer.className = 'message bot star-rating';
                for (let i = 1; i <= 5; i++) {
                    const star = document.createElement('span');
                    star.className = 'star';
                    star.textContent = '‚òÜ';
                    star.dataset.value = i;
                    star.addEventListener('mouseover', e => highlightStars(e.target.dataset.value));
                    star.addEventListener('mouseout', () => highlightStars(reviewData.rating || 0));
                    star.addEventListener('click', e => {
                        reviewData.rating = e.target.dataset.value;
                        highlightStars(reviewData.rating);
                        chatMessages.removeChild(ratingContainer);
                        addUserMessage(reviewData.rating + ' stars');
                        botResponse("Got it. Lastly, what did you think of the book?");
                        chatState = 'awaiting_review';
                    });
                    ratingContainer.appendChild(star);
                }
                chatMessages.appendChild(ratingContainer);
                scrollToBottom();
            }
            
            function highlightStars(rating) {
                document.querySelectorAll('.star').forEach(star => {
                    star.classList.toggle('selected', star.dataset.value <= rating);
                    star.textContent = star.dataset.value <= rating ? '‚òÖ' : '‚òÜ';
                });
            }

            function botResponse(message) {
                const typingIndicator = addBotMessage("...", true);
                setTimeout(() => {
                    typingIndicator.textContent = message;
                }, 1000 + Math.random() * 500);
            }

            function addUserMessage(message) {
                const messageEl = document.createElement('div');
                messageEl.className = 'message user';
                messageEl.textContent = message;
                chatMessages.appendChild(messageEl);
                scrollToBottom();
            }

            function addBotMessage(message, isTyping = false) {
                const messageEl = document.createElement('div');
                messageEl.className = 'message bot';
                if (isTyping) {
                    messageEl.classList.add('typing');
                }
                messageEl.textContent = message;
                chatMessages.appendChild(messageEl);
                scrollToBottom();
                return messageEl;
            }

            function scrollToBottom() {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        });
    </script>
</body>
</html>

